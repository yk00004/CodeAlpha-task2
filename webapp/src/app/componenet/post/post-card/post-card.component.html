<mat-card class="rounded-2xl overflow-hidden shadow-md">
  <!-- ðŸ§‘â€ðŸ’¼ User Header -->
  <div class="flex items-center gap-3 p-4 border-b">
    <img
      *ngIf="true"
      [src]="'http://localhost:5000/' + post.user.profileImage"
      alt="User"
      class="w-10 h-10 rounded-full object-cover"
    />
    <div>
      <p class="font-semibold">{{ post.user?.username }}</p>
      <p class="text-xs text-gray-500"> {{ post.createdAt | time  }}</p>
    </div>
  </div>

  <!-- ðŸ–¼ï¸ Post Image -->
  <img
    *ngIf="post.image"
    [src]="'http://localhost:5000/' + post.image"
    class="w-full h-64 object-cover"
  />

  <!-- âœï¸ Caption + Actions -->
  <div class="p-4">
    <p class="mb-2 text-gray-800">{{ post.caption }}</p>

    <div class="flex items-center gap-4 text-sm text-gray-600">
      <button (click)="toggleLike()" class="flex items-center gap-1">
        <mat-icon [ngClass]="{ 'text-red-500': hasLiked() }">
          {{ hasLiked() ? 'favorite' : 'favorite_border' }}
        </mat-icon>
        {{ post.likes.length }}
      </button>

      <!-- ðŸ’¬ Existing Comments -->
<div class="mt-2 space-y-2 text-sm text-gray-700">
  <div *ngFor="let comment of post.comments">
     <span class="font-medium">{{ comment.user?.username }}</span>:
    {{ comment.text }}
  </div>
</div>

<!-- âž• Add Comment -->
<div class="mt-3 flex gap-2 items-center">
  <input
    type="text"
    [(ngModel)]="commentText"
    placeholder="Add a comment..."
    class="flex-1 border px-3 py-1 rounded-lg text-sm"
  />
  <button
    class="text-blue-600 font-medium text-sm"
    (click)="addComment()"
  >
    Post
  </button>
</div>

    </div>
  </div>
</mat-card>
